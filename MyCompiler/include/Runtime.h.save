#ifndef RUNTIME_H
#define RUNTIME_H

#include <stack>
#include <vector>

#include "Table.h"

using namespace std;

const int DATA_AREA_SIZE = 10000;

enum data_type {
    RS_INT,
    RS_FLOAT,
    RS_CHAR,
    RS_STR
};

struct run_stack{
    data_type type;
    int value;
};

class Runtime {
    public:
        static run_stack get_val ( int inde)
        static int get_top_value();
        static data_type get_top_type();
        static void pop_rs();
        static void push_rs ( run_stack r );
        static void set_main_pointer ( int i );

    private:
        static stack<run_stack> runtime_stack;//运行栈
        static stack<int> fun_stack;//函数栈
        static int ret_adr;
        static int main_pointer;
        static int data_area[DATA_AREA_SIZE];//数据区

        static void interpret ( vector<pcode> p );

};

#endif // RUNTIME_H
